import{r as a,j as s}from"./index-C0bR5ZwG.js";import{U as p}from"./units-CaNgy_2U.js";const C=({onUnitSelect:i,selectedUnit:o,placeholder:m="Search by UIC, RUC, MCC, or Unit Name"})=>{const[r,u]=a.useState(""),[c,n]=a.useState(!1),l=a.useRef(null),d=a.useMemo(()=>{if(!r.trim()||r.trim().length<2)return[];const e=r.toLowerCase().trim();return p.filter(t=>t.uic.toLowerCase().startsWith(e)||t.ruc.toLowerCase().startsWith(e)||t.mcc.toLowerCase().startsWith(e)||t.unitName.toLowerCase().startsWith(e)||t.streetAddress.toLowerCase().includes(e)||t.cityState.toLowerCase().includes(e)||t.zip.toLowerCase().includes(e))},[r]);a.useEffect(()=>{const e=t=>{l.current&&!l.current.contains(t.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const h=e=>{i(e),u(""),n(!1)},x=o?`${o.unitName} (UIC: ${o.uic})`:"";return s.jsxs("div",{className:"relative",ref:l,children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:c?r:x,onChange:e=>{u(e.target.value),n(!0)},onFocus:()=>n(!0),placeholder:m,className:"w-full px-3 py-2 border border-brand-navy/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold"}),o&&!c&&s.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),i(void 0)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"âœ•"})]}),c&&s.jsx("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-white border border-brand-navy/30 rounded-lg shadow-lg",children:d.length>0?d.map(e=>s.jsxs("button",{type:"button",onClick:()=>h(e),className:"w-full text-left px-3 py-2 hover:bg-brand-cream transition-colors",children:[s.jsx("div",{className:"font-medium text-sm",children:e.unitName}),s.jsxs("div",{className:"text-xs text-gray-600",children:["UIC: ",e.uic," | RUC: ",e.ruc," | MCC: ",e.mcc]})]},e.uic)):s.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:r.trim()?"No units found":"Start typing to search..."})})]})};export{C as S};
