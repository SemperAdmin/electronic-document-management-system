import{r as i,j as r}from"./index-D1hlIYBq.js";import{U as x}from"./units-CaNgy_2U.js";const C=({onUnitSelect:n,selectedUnit:a,placeholder:u="Search by UIC, RUC, MCC, or Unit Name"})=>{const[s,l]=i.useState(""),[o,c]=i.useState(!1),d=i.useRef(null),m=i.useMemo(()=>{if(!s.trim()||s.trim().length<2)return[];const e=s.toLowerCase().trim();return x.filter(t=>t.uic.toLowerCase().startsWith(e)||t.ruc.toLowerCase().startsWith(e)||t.mcc.toLowerCase().startsWith(e)||t.unitName.toLowerCase().startsWith(e)||t.streetAddress.toLowerCase().includes(e)||t.cityState.toLowerCase().includes(e)||t.zip.toLowerCase().includes(e))},[s]);i.useEffect(()=>{const e=t=>{d.current&&!d.current.contains(t.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const f=e=>{n(e),l(""),c(!1)},h=a?`${a.unitName} (UIC: ${a.uic})`:"";return r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o?s:h,onChange:e=>{l(e.target.value),c(!0)},onFocus:()=>c(!0),placeholder:u,className:"w-full px-3 py-2 border border-brand-navy/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold"}),a&&!o&&r.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),n(void 0)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"âœ•"})]}),o&&r.jsx("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-white border border-brand-navy/30 rounded-lg shadow-lg",children:m.length>0?m.map(e=>r.jsxs("button",{type:"button",onClick:()=>f(e),className:"w-full text-left px-3 py-2 hover:bg-brand-cream transition-colors",children:[r.jsx("div",{className:"font-medium text-sm",children:e.unitName}),r.jsxs("div",{className:"text-xs text-gray-600",children:["UIC: ",e.uic," | RUC: ",e.ruc," | MCC: ",e.mcc]})]},e.uic)):r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:s.trim()?"No units found":"Start typing to search..."})})]})};function g(n,a="Unknown"){if(!n)return a;const{rank:u="",lastName:s="",firstName:l="",mi:o}=n;return`${u} ${s}, ${l}${o?` ${o}`:""}`.trim()||a}export{C as S,g as f};
